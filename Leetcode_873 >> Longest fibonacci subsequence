class Solution(object):
    def lenLongestFibSubseq(self, arr):
        index = {x : i for i, x in enumerate(arr)}
        longest = defaultdict(lambda : 2)

        ans = 0
        for k, z in enumerate(arr):
            for j in xrange(k):
                if z-arr[j] in index:
                    i = index[z-arr[j]]
                    if i < j:
                        tmp = longest[j, k] = longest[i, j] + 1
                        ans = max(ans, tmp)
        return ans
